"""
Represents a site with supplementary information for another resource such as an anime or artist.

For example, the Bakemonogatari anime has MyAnimeList, AniList and AniDB resources.
"""
type ExternalResource {
    "The primary key of the resource"
    id: Int! @rename(attribute: "resource_id")
    "The primary key of the resource in the external site"
    external_id: Int
    "The URL of the external site"
    link: String!
    "The external site that the resource belongs to"
    site: ResourceSite! @localizedEnum
    anime: [Anime] @belongsToMany(type: CONNECTION, edgeType: ExternalResourceAnimeEdge)
    artists: [Artist] @belongsToMany(type: CONNECTION, edgeType: ExternalResourceArtistEdge)
    songs: [Song] @belongsToMany(type: CONNECTION, edgeType: ExternalResourceSongEdge)
    studios: [Studio] @belongsToMany(type: CONNECTION, edgeType: ExternalResourceStudioEdge)
    "The date that the resource was created"
    created_at: DateTimeTz
    "The date that the resource was last modified"
    updated_at: DateTimeTz
    "The date that the resource was deleted"
    deleted_at: DateTimeTz
}

"Default edge to use in simple belongs to many relationships"
type ExternalResourceEdge {
    node: ExternalResource!
    "Used to distinguish resources that map to the same resource"
    as: String @field(resolver: "App\\GraphQL\\Resolvers\\PivotResolver@resolve")
    "The date that the resource was last modified"
    created_at: DateTimeTz @field(resolver: "App\\GraphQL\\Resolvers\\PivotResolver@resolve")
    "The date that the resource was deleted"
    updated_at: DateTimeTz @field(resolver: "App\\GraphQL\\Resolvers\\PivotResolver@resolve")
}

"External Resource has an extra pivot field"
type ExternalResourceAnimeEdge {
    node: Anime!
    "Used to distinguish resources that map to the same anime"
    as: String @field(resolver: "App\\GraphQL\\Resolvers\\PivotResolver@resolve")
    "The date that the resource was last modified"
    created_at: DateTimeTz @field(resolver: "App\\GraphQL\\Resolvers\\PivotResolver@resolve")
    "The date that the resource was deleted"
    updated_at: DateTimeTz @field(resolver: "App\\GraphQL\\Resolvers\\PivotResolver@resolve")
}

"External Resource has an extra pivot field"
type ExternalResourceArtistEdge {
    node: Artist!
    "Used to distinguish resources that map to the same artist"
    as: String @field(resolver: "App\\GraphQL\\Resolvers\\PivotResolver@resolve")
    "The date that the resource was last modified"
    created_at: DateTimeTz @field(resolver: "App\\GraphQL\\Resolvers\\PivotResolver@resolve")
    "The date that the resource was deleted"
    updated_at: DateTimeTz @field(resolver: "App\\GraphQL\\Resolvers\\PivotResolver@resolve")
}

"External Resource has an extra pivot field"
type ExternalResourceSongEdge {
    node: Song!
    "Used to distinguish resources that map to the same song"
    as: String @field(resolver: "App\\GraphQL\\Resolvers\\PivotResolver@resolve")
    "The date that the resource was last modified"
    created_at: DateTimeTz @field(resolver: "App\\GraphQL\\Resolvers\\PivotResolver@resolve")
    "The date that the resource was deleted"
    updated_at: DateTimeTz @field(resolver: "App\\GraphQL\\Resolvers\\PivotResolver@resolve")
}

"External Resource has an extra pivot field"
type ExternalResourceStudioEdge {
    node: Studio!
    "Used to distinguish resources that map to the same studio"
    as: String @field(resolver: "App\\GraphQL\\Resolvers\\PivotResolver@resolve")
    "The date that the resource was last modified"
    created_at: DateTimeTz @field(resolver: "App\\GraphQL\\Resolvers\\PivotResolver@resolve")
    "The date that the resource was deleted"
    updated_at: DateTimeTz @field(resolver: "App\\GraphQL\\Resolvers\\PivotResolver@resolve")
}

extend type Query {
    "Returns a listing of resources given fields."
    externalresources: [ExternalResource!]!
    @canModel(ability: "viewAny", injectArgs: true)
    @softDeletes
    @paginate
}